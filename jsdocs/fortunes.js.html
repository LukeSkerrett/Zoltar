<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: fortunes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: fortunes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let data;
let fortuneText;
let fortuneNumbers;

/**
 * Generates a random fortune from JSON file
 * @param { Array&lt;Object> } array of fortune objects with .message field
 * @return { String } random fortune
 */
export function produceFortune(arr) {
	return arr[Math.floor(Math.random() * arr.length)].message;
} /* produceFortune */

/**
 * Places fortune into DOM
 * @param { String } text text to place (default to 'Hmmm... my vision is cloudy')
 */
export function placeFortune(text = 'Hmmm... my vision is cloudy') {
	fortuneText.innerText = text;
} /* placeFortune */

/**
 * Generates an array of n distinct integers spaced between low and high.
 * Gives back an empty array if no input n, or if there aren't enough numbers
 * 		between high and low to fill the array
 * @param { Integer } n number of unique integers to generate
 * @param { Integer } low bottom bound for random integers, inclusive (default 0)
 * @param { Integer } high top bound for random integers, exclusive (default 100)
 * @returns { Array&lt;Integer> } array of n unique integers
 */
export function produceRandomNumbers(n, low = 0, high = 100) {
	if (n === undefined || (high - low) &lt; n) { // no input or not enough numbers
		return [];
	}
	const list = new Set();
	while (list.size &lt; n) {
		list.add(Math.floor(Math.random() * (high - low)) + low);
	}
	return [...list];
} /* produceRandomNumbers */

/**
 * Takes in an integer array and returns a string of integers separated by
 * 		commas with an 'and' after final comma
 * @param { Array&lt;Integer> } arr
 * @returns { String }
 */
export function convertArrToReadableString(arr) {
	return arr.reduce((prevText, nextNum, i, array) => {
		const isLastItem = i === array.length - 1;
		const delimiter = isLastItem ? ', and' : ',';
		return `${prevText}${delimiter} ${nextNum}`;
	});
} /* convertArrToReadableString */

/**
 * Place list of random numbers into the DOM
 * @param { Array&lt;Integer> } arr integers to put into list (default to [1,2,3,4])
 */
export function placeRandomNumbers(arr = [1, 2, 3, 4]) {
	fortuneNumbers.innerText = convertArrToReadableString(arr);
} /* placeRandomNumbers */

/**
 * Replaces text on card in DOM with new fortune and new list of lucky numbers.
 * @param none
 */
export function createFortuneOnTicket() {
	placeFortune(produceFortune(data.fortunes));
	placeRandomNumbers(produceRandomNumbers(4, 1, 100));
} /* createFortuneOnTicket */

function init() {
	fetch('assets/json/responses.json')
		.then((response) => response.json())
		.then((json) => { data = json; });

	fortuneText = document.querySelector('#fortune-content');
	fortuneNumbers = document.querySelector('#ticket-lucky-numbers');
}
document.addEventListener('DOMContentLoaded', init);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#convertArrToReadableString">convertArrToReadableString</a></li><li><a href="global.html#createFortuneOnTicket">createFortuneOnTicket</a></li><li><a href="global.html#flipTicket">flipTicket</a></li><li><a href="global.html#isTicketCurrentlyDisplayed">isTicketCurrentlyDisplayed</a></li><li><a href="global.html#isTicketCurrentlyFlipped">isTicketCurrentlyFlipped</a></li><li><a href="global.html#placeFortune">placeFortune</a></li><li><a href="global.html#placeRandomNumbers">placeRandomNumbers</a></li><li><a href="global.html#playBackgroundNoise">playBackgroundNoise</a></li><li><a href="global.html#produceFortune">produceFortune</a></li><li><a href="global.html#produceRandomNumbers">produceRandomNumbers</a></li><li><a href="global.html#tellPageLoaded">tellPageLoaded</a></li><li><a href="global.html#toggleTicketOff">toggleTicketOff</a></li><li><a href="global.html#toggleTicketOn">toggleTicketOn</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sun May 21 2023 23:11:32 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
